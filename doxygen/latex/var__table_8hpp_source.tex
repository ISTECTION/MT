\hypertarget{var__table_8hpp_source}{}\doxysection{var\+\_\+table.\+hpp}
\label{var__table_8hpp_source}\index{include/var\_table.hpp@{include/var\_table.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef \_VAR\_TABLE\_HPP}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define \_VAR\_TABLE\_HPP}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include "{}tabulate/tabulate.hpp"{}}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}lexeme.hpp"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}place.hpp"{}}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <optional>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <set>}}
\DoxyCodeLine{11 }
\DoxyCodeLine{15 \textcolor{keyword}{class }\mbox{\hyperlink{classvar__table}{var\_table}}}
\DoxyCodeLine{16 \{}
\DoxyCodeLine{17 \textcolor{keyword}{private}:}
\DoxyCodeLine{18     std::vector<std::vector<lexeme>> table;}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{keyword}{public}:}
\DoxyCodeLine{21     \textcolor{keyword}{explicit} \mbox{\hyperlink{classvar__table}{var\_table}}(\textcolor{keywordtype}{size\_t} \_size = 26 * 2 + 1) \{}
\DoxyCodeLine{22         table.resize(\_size); \}}
\DoxyCodeLine{23 }
\DoxyCodeLine{31     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classvar__table_aa481d5fe93bfba153f301ace7f7e06df}{contains}} (\textcolor{keyword}{const} std::string\& name) \textcolor{keyword}{const};}
\DoxyCodeLine{32 }
\DoxyCodeLine{39     std::optional<place> \mbox{\hyperlink{classvar__table_a6354ba6befad57eada3e5e5906a5a40b}{add}} (\textcolor{keyword}{const} std::string\& name);}
\DoxyCodeLine{46     std::optional<place> \mbox{\hyperlink{classvar__table_a6d84a7ef59dcbe2a9970d5a24eeb5614}{find\_in\_table}} (\textcolor{keyword}{const} std::string\& name) \textcolor{keyword}{const};}
\DoxyCodeLine{47 }
\DoxyCodeLine{54     \mbox{\hyperlink{classvar__table}{var\_table}}\& \mbox{\hyperlink{classvar__table_a6de3ac437e211b0df4cfd391802cf60d}{set\_type}}  (\textcolor{keyword}{const} \mbox{\hyperlink{classplace}{place}}\& plc, TYPE type );}
\DoxyCodeLine{55 }
\DoxyCodeLine{62     \mbox{\hyperlink{classvar__table}{var\_table}}\& \mbox{\hyperlink{classvar__table_a35b82f3485ce3abc82690c11c28d85a5}{set\_value}} (\textcolor{keyword}{const} \mbox{\hyperlink{classplace}{place}}\& plc, \textcolor{keywordtype}{bool} value);}
\DoxyCodeLine{63 }
\DoxyCodeLine{70     std::optional<lexeme> \mbox{\hyperlink{classvar__table_aa9dd536dc06d700e9c5a085a0c58d8a9}{get\_lexeme}} (\textcolor{keyword}{const} \mbox{\hyperlink{classplace}{place}}\& \_place) \textcolor{keyword}{const};}
\DoxyCodeLine{71 }
\DoxyCodeLine{75     std::vector<std::vector<lexeme>>::const\_iterator \mbox{\hyperlink{classvar__table_ad1231093e252adb44f3520bc973d3d59}{begin}} () \textcolor{keyword}{const};}
\DoxyCodeLine{76 }
\DoxyCodeLine{80     std::vector<std::vector<lexeme>>::const\_iterator \mbox{\hyperlink{classvar__table_abb767cb48e58e80a9b973c06dc45989d}{end}} () \textcolor{keyword}{const};}
\DoxyCodeLine{81 }
\DoxyCodeLine{88     \textcolor{keyword}{inline} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classvar__table_a2ee46659eb8c8beb251479fbbe34f5ad}{get\_hash}} (\textcolor{keyword}{const} std::string\& name) \textcolor{keyword}{const};}
\DoxyCodeLine{89 }
\DoxyCodeLine{95     \textcolor{keyword}{inline} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classvar__table_a316bd23c81e56f5bc0c1acf9d6298ba5}{get\_size\_table}} ()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} table.size(); \}}
\DoxyCodeLine{96 }
\DoxyCodeLine{103     \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{classvar__table_a4bac69c9898b57a8dcfaaf41933394f7}{get\_size\_row}} (\textcolor{keywordtype}{size\_t} row)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{104         \textcolor{keywordflow}{return} row < table.size()}
\DoxyCodeLine{105             ? table[row].size()}
\DoxyCodeLine{106             : -\/1 ; \}}
\DoxyCodeLine{107 }
\DoxyCodeLine{111     \textcolor{keyword}{friend} std::ostream\& \mbox{\hyperlink{classvar__table_ad2bd56cafc22038a87baec8d27597125}{operator<< }}(std::ostream\& out, \textcolor{keyword}{const} \mbox{\hyperlink{classvar__table}{var\_table}}\& \_tab);}
\DoxyCodeLine{112 \};}
\DoxyCodeLine{113 }
\DoxyCodeLine{114 \textcolor{keywordtype}{bool} \mbox{\hyperlink{classvar__table_aa481d5fe93bfba153f301ace7f7e06df}{var\_table::contains}} (\textcolor{keyword}{const} std::string\& name)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{115     \textcolor{keywordflow}{return} \mbox{\hyperlink{classvar__table_a6d84a7ef59dcbe2a9970d5a24eeb5614}{find\_in\_table}}(name) == std::nullopt}
\DoxyCodeLine{116         ? false : \textcolor{keyword}{true};}
\DoxyCodeLine{117 \}}
\DoxyCodeLine{118 }
\DoxyCodeLine{119 std::optional<lexeme> \mbox{\hyperlink{classvar__table_aa9dd536dc06d700e9c5a085a0c58d8a9}{var\_table::get\_lexeme}} (\textcolor{keyword}{const} \mbox{\hyperlink{classplace}{place}}\& \_place)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{120     \textcolor{keyword}{using} enum ::place::POS;}
\DoxyCodeLine{121     \textcolor{keywordtype}{size\_t} i = \_place(ROW);}
\DoxyCodeLine{122     \textcolor{keywordtype}{size\_t} j = \_place(COLLUMN);}
\DoxyCodeLine{123     \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(j) < \mbox{\hyperlink{classvar__table_a4bac69c9898b57a8dcfaaf41933394f7}{get\_size\_row}}(i)}
\DoxyCodeLine{124         ? std::optional \{ table[i][j] \}}
\DoxyCodeLine{125         : std::nullopt ;}
\DoxyCodeLine{126 \}}
\DoxyCodeLine{127 }
\DoxyCodeLine{128 std::optional<place> \mbox{\hyperlink{classvar__table_a6354ba6befad57eada3e5e5906a5a40b}{var\_table::add}} (\textcolor{keyword}{const} std::string\& name) \{}
\DoxyCodeLine{129     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classvar__table_aa481d5fe93bfba153f301ace7f7e06df}{contains}}(name)) \{}
\DoxyCodeLine{130         \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{131     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{132         \textcolor{keywordtype}{size\_t} hash = \mbox{\hyperlink{classvar__table_a2ee46659eb8c8beb251479fbbe34f5ad}{get\_hash}}(name);}
\DoxyCodeLine{133         table[hash].push\_back(\mbox{\hyperlink{classlexeme}{lexeme}}(name));}
\DoxyCodeLine{134         \textcolor{keywordflow}{return} std::optional \{ \mbox{\hyperlink{classplace}{place}}(hash, table[hash].size() -\/ 1) \};}
\DoxyCodeLine{135     \}}
\DoxyCodeLine{136 \}}
\DoxyCodeLine{137 }
\DoxyCodeLine{138 std::optional<place> \mbox{\hyperlink{classvar__table_a6d84a7ef59dcbe2a9970d5a24eeb5614}{var\_table::find\_in\_table}} (\textcolor{keyword}{const} std::string\& name)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{139     \textcolor{keywordtype}{size\_t} hash = \mbox{\hyperlink{classvar__table_a2ee46659eb8c8beb251479fbbe34f5ad}{get\_hash}}(name);}
\DoxyCodeLine{140     \textcolor{keyword}{using} \_Iter = std::vector<lexeme>::const\_iterator;}
\DoxyCodeLine{141     \_Iter it = std::find(table[hash].\mbox{\hyperlink{classvar__table_ad1231093e252adb44f3520bc973d3d59}{begin}}(), table[hash].\mbox{\hyperlink{classvar__table_abb767cb48e58e80a9b973c06dc45989d}{end}}(), \mbox{\hyperlink{classlexeme}{lexeme}}(name));}
\DoxyCodeLine{142 }
\DoxyCodeLine{143     \textcolor{keywordflow}{return} it == table[hash].end()}
\DoxyCodeLine{144             ? std::nullopt}
\DoxyCodeLine{145             : std::optional \{ \mbox{\hyperlink{classplace}{place}}(hash, std::distance(table[hash].\mbox{\hyperlink{classvar__table_ad1231093e252adb44f3520bc973d3d59}{begin}}(), it)) \};}
\DoxyCodeLine{146 \}}
\DoxyCodeLine{147 }
\DoxyCodeLine{148 \textcolor{keyword}{inline} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classvar__table_a2ee46659eb8c8beb251479fbbe34f5ad}{var\_table::get\_hash}} (\textcolor{keyword}{const} std::string\& name)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{149     \textcolor{keywordflow}{return} std::hash<std::string>\{ \}(name) \% \mbox{\hyperlink{classvar__table_a316bd23c81e56f5bc0c1acf9d6298ba5}{get\_size\_table}}(); \}}
\DoxyCodeLine{150 }
\DoxyCodeLine{151 \mbox{\hyperlink{classvar__table}{var\_table}}\& \mbox{\hyperlink{classvar__table_a6de3ac437e211b0df4cfd391802cf60d}{var\_table::set\_type}} (\textcolor{keyword}{const} \mbox{\hyperlink{classplace}{place}}\& plc, TYPE type) \{}
\DoxyCodeLine{152     \textcolor{keyword}{using} enum ::place::POS;}
\DoxyCodeLine{153     table[plc(ROW)][plc(COLLUMN)].set\_type(type);}
\DoxyCodeLine{154     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{155 \}}
\DoxyCodeLine{156 }
\DoxyCodeLine{157 \mbox{\hyperlink{classvar__table}{var\_table}}\& \mbox{\hyperlink{classvar__table_a35b82f3485ce3abc82690c11c28d85a5}{var\_table::set\_value}} (\textcolor{keyword}{const} \mbox{\hyperlink{classplace}{place}}\& plc, \textcolor{keywordtype}{bool} value) \{}
\DoxyCodeLine{158     \textcolor{keyword}{using} enum ::place::POS;}
\DoxyCodeLine{159     table[plc(ROW)][plc(COLLUMN)].set\_value(value);}
\DoxyCodeLine{160     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{161 \}}
\DoxyCodeLine{162 }
\DoxyCodeLine{163 std::vector<std::vector<lexeme>>::const\_iterator \mbox{\hyperlink{classvar__table_ad1231093e252adb44f3520bc973d3d59}{var\_table::begin}} ()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{164     \textcolor{keywordflow}{return} table.begin(); \}}
\DoxyCodeLine{165 }
\DoxyCodeLine{166 std::vector<std::vector<lexeme>>::const\_iterator \mbox{\hyperlink{classvar__table_abb767cb48e58e80a9b973c06dc45989d}{var\_table::end}} ()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{167     \textcolor{keywordflow}{return} table.end(); \}}
\DoxyCodeLine{168 }
\DoxyCodeLine{169 std::ostream\& operator<< (std::ostream\& out, \textcolor{keyword}{const} \mbox{\hyperlink{classvar__table}{var\_table}}\& \_tab) \{}
\DoxyCodeLine{170     \textcolor{keyword}{auto} type\_to\_str =}
\DoxyCodeLine{171         [](TYPE \_type) -\/> std::string \{}
\DoxyCodeLine{172             \textcolor{keywordflow}{return}}
\DoxyCodeLine{173                 \_type == TYPE::UNDEFINED}
\DoxyCodeLine{174                     ? \textcolor{stringliteral}{"{}undefined"{}}}
\DoxyCodeLine{175                     : \_type == TYPE::INT}
\DoxyCodeLine{176                         ? \textcolor{stringliteral}{"{}int"{}} : \textcolor{stringliteral}{"{}char"{}}; \};}
\DoxyCodeLine{177 }
\DoxyCodeLine{178     \textcolor{keyword}{auto} bool\_to\_str =}
\DoxyCodeLine{179         [](\textcolor{keywordtype}{bool} \_init) -\/> std::string \{}
\DoxyCodeLine{180             \textcolor{keywordflow}{return} \_init == \textcolor{keyword}{false}}
\DoxyCodeLine{181                 ? \textcolor{stringliteral}{"{}false"{}} : \textcolor{stringliteral}{"{}true"{}} ; \};}
\DoxyCodeLine{182 }
\DoxyCodeLine{183     tabulate::Table movies;}
\DoxyCodeLine{184 }
\DoxyCodeLine{185     movies.add\_row(\{ \textcolor{stringliteral}{"{}hash"{}}, \textcolor{stringliteral}{"{}id"{}}, \textcolor{stringliteral}{"{}name"{}}, \textcolor{stringliteral}{"{}type"{}}, \textcolor{stringliteral}{"{}init"{}} \});}
\DoxyCodeLine{186     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} iter = \_tab.\mbox{\hyperlink{classvar__table_ad1231093e252adb44f3520bc973d3d59}{begin}}(); iter != \_tab.\mbox{\hyperlink{classvar__table_abb767cb48e58e80a9b973c06dc45989d}{end}}(); iter++) \{}
\DoxyCodeLine{187         \textcolor{keywordtype}{size\_t} collumn = 0;}
\DoxyCodeLine{188         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = iter-\/>begin(); it  != iter-\/>end(); it++, collumn++) \{}
\DoxyCodeLine{189             std::string \_name = it-\/>get\_name();}
\DoxyCodeLine{190             movies.add\_row(\{}
\DoxyCodeLine{191                 std::to\_string(\_tab.\mbox{\hyperlink{classvar__table_a2ee46659eb8c8beb251479fbbe34f5ad}{get\_hash}}(\_name)),}
\DoxyCodeLine{192                 std::to\_string(collumn),}
\DoxyCodeLine{193                 \_name,}
\DoxyCodeLine{194                 type\_to\_str(it-\/>get\_type()),}
\DoxyCodeLine{195                 bool\_to\_str(it-\/>get\_init()) \});}
\DoxyCodeLine{196         \}}
\DoxyCodeLine{197     \}}
\DoxyCodeLine{198 }
\DoxyCodeLine{199     \textcolor{keyword}{using namespace }::tabulate;}
\DoxyCodeLine{200     movies.column(0).format().font\_align(FontAlign::center).width(8);}
\DoxyCodeLine{201     movies.column(1).format().font\_align(FontAlign::center).width(8);}
\DoxyCodeLine{202     movies.column(2).format().font\_align(FontAlign::center).width(32);}
\DoxyCodeLine{203     movies.column(3).format().font\_align(FontAlign::center).width(15);}
\DoxyCodeLine{204     movies.column(4).format().font\_align(FontAlign::center).width(13);}
\DoxyCodeLine{205 }
\DoxyCodeLine{206     \textcolor{keywordflow}{return} out << movies << \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{207 \}}
\DoxyCodeLine{208 \textcolor{preprocessor}{\#endif }}

\end{DoxyCode}
